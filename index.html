<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ko"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Notion Book Widget&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 노션 스타일의 깔끔한 디자인 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f7f7f5; /* 노션 배경색 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #37352f;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 400px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 검색창 스타일 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.search-box {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>gap: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>input {</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-grow: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #e0e0e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>outline: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>input:focus { border-color: #2eaadc; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button.search-btn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 8px 16px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #2eaadc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 14px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>button.search-btn:hover { background-color: #0c87b8; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 결과 리스트 스타일 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.book-item {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #e0e0e0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 6px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 1px 3px rgba(0,0,0,0.05);</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.book-cover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 50px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 75px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>object-fit: cover;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 2px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-right: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #eee;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.book-info {</p>
<p class="p1"><span class="Apple-converted-space">            </span>flex-grow: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.book-title {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 600;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>white-space: nowrap;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow: hidden;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-overflow: ellipsis;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.book-author {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 13px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #787774;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 8px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.save-btn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 12px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 4px 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #d9d9d9;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 4px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.save-btn:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f0f0f0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.save-btn.saved {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #e3f2fd;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #2eaadc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: #2eaadc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>pointer-events: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="search-box"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;input type="text" id="query" placeholder="책 제목을 검색하세요" onkeyup="if(window.event.keyCode==13){searchBooks()}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button class="search-btn" onclick="searchBooks()"&gt;검색&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="results"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>// ==========================================</p>
<p class="p1"><span class="Apple-converted-space">    </span>// [설정 영역] 아래 두 변수를 본인의 것으로 변경하세요.</p>
<p class="p1"><span class="Apple-converted-space">    </span>// ==========================================</p>
<p class="p1"><span class="Apple-converted-space">    </span>const KAKAO_API_KEY = 'f09d8139aa8d276b319e1e3f2677c70eY'; // 여기에 카카오 REST API 키 입력</p>
<p class="p1"><span class="Apple-converted-space">    </span>const WEBHOOK_URL = 'https://hook.us2.make.com/4b3z3jddbuh4qv88mt6sjym6tys41gke';<span class="Apple-converted-space">          </span>// 여기에 Make 등의 웹훅 URL 입력 (없으면 비워두세요)</p>
<p class="p1"><span class="Apple-converted-space">    </span>// ==========================================</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>async function searchBooks() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const query = document.getElementById('query').value;</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!query) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>try {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const response = await fetch(`https://dapi.kakao.com/v3/search/book?target=title&amp;query=${encodeURIComponent(query)}`, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>Authorization: `KakaoAK ${KAKAO_API_KEY}`</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const data = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderResults(data.documents);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('검색 실패:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('카카오 API 키를 확인해주세요.');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function renderResults(books) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const container = document.getElementById('results');</p>
<p class="p1"><span class="Apple-converted-space">        </span>container.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!books || books.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = '&lt;p style="text-align:center; color:#999;"&gt;검색 결과가 없습니다.&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>books.forEach(book =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const el = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>el.className = 'book-item';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 저자 정보 배열을 문자열로 변환</p>
<p class="p1"><span class="Apple-converted-space">            </span>const authors = book.authors.join(', ');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>el.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;img src="${book.thumbnail}" class="book-cover" alt="표지"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="book-info"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="book-title"&gt;${book.title}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="book-author"&gt;${authors}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button class="save-btn" onclick='saveToNotion(this, ${JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: book.title,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>author: authors,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>cover: book.thumbnail,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>url: book.url,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>isbn: book.isbn</p>
<p class="p1"><span class="Apple-converted-space">                    </span>})})'&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>+ 노션에 저장</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.appendChild(el);</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function saveToNotion(btnElement, bookData) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!WEBHOOK_URL || WEBHOOK_URL === 'YOUR_WEBHOOK_URL') {</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('설정된 웹훅 URL이 없습니다. 코드를 수정해주세요.');</p>
<p class="p1"><span class="Apple-converted-space">            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 버튼 상태 변경 (로딩 중)</p>
<p class="p1"><span class="Apple-converted-space">        </span>const originalText = btnElement.innerText;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btnElement.innerText = '저장 중...';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// 웹훅으로 데이터 전송</p>
<p class="p1"><span class="Apple-converted-space">        </span>fetch(WEBHOOK_URL, {</p>
<p class="p1"><span class="Apple-converted-space">            </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">            </span>headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>body: JSON.stringify(bookData)</p>
<p class="p1"><span class="Apple-converted-space">        </span>})</p>
<p class="p1"><span class="Apple-converted-space">        </span>.then(response =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (response.ok) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>btnElement.classList.add('saved');</p>
<p class="p1"><span class="Apple-converted-space">                </span>btnElement.innerText = '저장 완료!';</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>throw new Error('전송 실패');</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>})</p>
<p class="p1"><span class="Apple-converted-space">        </span>.catch(error =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>console.error('Error:', error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>alert('저장에 실패했습니다.');</p>
<p class="p1"><span class="Apple-converted-space">            </span>btnElement.innerText = originalText;</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
